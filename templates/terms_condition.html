{% extends 'base.html' %}

{% block content %}


 	<!-- Page Wrapper -->
	 <div class="page-wrapper">
		<div class="content container-fluid">
		
			<!-- Page Header -->
			<div class="page-header">
				<div class="row">
					<div class="col-sm-12">
					   <div class="card full-header">
						  <div class="text-editor">
							 <div class="users">
								 <h3 class="page-title">Terms & Condition</h3>
							 </div>
               {% if messages %}
               <div class="messages">
                 {% for message in messages %}
                   <div class="alert alert-{{ message.tags }}">
                     {{ message }}
                   </div>
                 {% endfor %}
               </div>
             {% endif %}
							  <div class="user-box">
								<div class="datatables">
          <form method="post" action="{% url 'Terms_Condition' %}" id="tandcForm" class="needs-validation" novalidate="">
         
            {% csrf_token %}
            <div class="form-group">
              <label for="InputFile">Content</label>
              <textarea id="myeditor" name="terms_condition" class="form-control" rows="10" cols="80" Required>{{ privacy }}</textarea>
              <input class="form-control" type="hidden" id="shivi" name="tandcID">
            </div>

            <div class="add-admin" style="margin-bottom: 0px;">
              <input type="submit" class="btn btn-primary" style="width:20%;margin-left: 10px;">
            </div>
          </form>
          <!-- Text Editor End -->

          <!-- Alert Messages -->
        
            
          <!-- /Alert Messages -->

          <div class="fulls-headings mt-4">
            <h4> View Terms And Condition</h4>
          </div>
          <table id="example" class="table table-striped table-bordered dataTable no-footer" role="grid" aria-describedby="example_info" style="margin: 20px 00px;">
            <thead>
              <tr role="row">
                <th class="sorting_asc" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Id: activate to sort column descending" style="width: 10%;" aria-sort="ascending">S.No</th>
                <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="box: activate to sort column ascending" style="width: 80%;">Terms And Condition </th>
                <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Action: activate to sort column ascending" style="width: 10%;">Action</th>
              </tr>
            </thead>
            <tbody>
              {% for tandc in terms_data %}
                <tr class="odd">
                  <td>{{ forloop.counter }}</td>
                  <td>{{ tandc.terms_condition|safe }}</td>
				 
                  <td>
                    <div class="dropdown">
                      <button class="btn mt-1 mb-1 btn-outline-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Action</button>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
						{% comment %} <a class="dropdown-item" onclick="updatetandc('{{ tandc.id }}', {{ tandc.terms|json_script }})" >Edit</a> {% endcomment %}
            <a class="dropdown-item" onclick="updatetandc('{{ tandc.terms_condition|escapejs }}', '{{ tandc.id }}')"> <i class="fa fa-edit"></i>   Edit</a>
                        <hr>
                        <a class="dropdown-item" href="{% url 'delete_terms_condition' id=tandc.id %}"> <i class="fa fa-trash"></i>  Delete</a>
                      </div>
                    </div>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </div>
  <script>
    function updatetandc(content, id) {
      
  
      CKEDITOR.instances.myeditor.setData(content);
      document.getElementById("shivi").value = id;
      // Additional logic if needed
    }
  </script>
  
{% endblock %}


  