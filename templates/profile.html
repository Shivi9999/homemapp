{% extends 'base.html'%}
{% block content %}
{% load static %}

<style>
	input#id_old_password, input#id_new_password1, input#id_new_password2 {
		width: 100%;
		background: white;
		padding: 5px 5px;
		border-radius: 3px;
		border: 2px solid lightgrey;
	}
</style>	
		<!-- Main Wrapper -->
        <div class="main-wrapper">
		
			<!-- Page Wrapper -->
            <div class="page-wrapper">
                <div class="content container-fluid">
					
					<!-- Page Header -->
					<div class="page-header">
						<div class="row">
							<div class="col-md-8">
								<h3 class="page-title">Profile</h3>
							</div>
							<div class="col-md-4">
								<ul class="breadcrumb">
									<li class="breadcrumb-item"><a href="/">Dashboard</a></li>
									<li class="breadcrumb-item active">Profile</li>
								</ul>
							</div>
						</div>
					</div>
					<!-- /Page Header -->
					
					<div class="full-profiles">
						<div class="row">
						<div class="col-md-3">
							<div class="profile-header mb-3 border-full">
								<div class="row align-items-center">
									<div class="col-md-12 profile-image">
										<a href="#">
											<img class="rounded-circle" alt="User Image" src="{%static 'assets/img/profiles/avatar-02.jpg'%}">
										</a>
									</div>
									<div class="col-md-12 mt-3 mb-3 ml-md-n2 profile-user-info">
										<h4 class="user-name mb-0">{{user.username}}</h4>
										<h6 class="text-muted">{{user.user_type}}</h6>
										{% comment %} <div class="user-Location"><i class="fa fa-map-marker"></i> Florida, United States</div> {% endcomment %}
										{% comment %} <div class="about-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</div> {% endcomment %}
									</div>
									{% comment %} <div class="col-md-12 profile-btn">
										<a href="" class="btn btn-primary">
											Message
										</a>
										<a href="" class="btn btn-primary">
											Edit
										</a>
									</div> {% endcomment %}
								</div>
							</div>
							
						</div>
					<div class="col-md-9">
							
							<div class="full-tabs mb-4 border-full">
							<div class="profile-menu">
								<ul class="nav nav-tabs nav-tabs-solid">
									<li class="nav-item">
										<a class="nav-link" data-toggle="tab" href="#per_details_tab">About</a>
									</li>
									<li class="nav-item">
										<a class="nav-link active" data-toggle="tab" href="#password_tab">Password</a>
									</li>
								</ul>
							</div>	
							<div class="tab-content profile-tab-cont">
								
								<!-- Personal Details Tab -->
								<div class="tab-pane fade" id="per_details_tab">
								
									<!-- Personal Details -->
									<div class="row">
										<div class="col-lg-12">
											<div class="card" style="margin-bottom: 0.135rem;">
												<div class="card-body">
													<h5 class="card-title d-flex justify-content-between">
														<span>Personal Details</span> 
														<a class="edit-link" data-toggle="modal" href="#edit_personal_details"><i class="fa fa-edit mr-1"></i>Edit</a>
													</h5>
													<div class="row">
														<p class="col-sm-3 text-muted text-sm-left mb-0 mb-sm-3">Name</p>
														<p class="col-sm-9"> {{ user.username }}</p>
													</div>
													 {% comment %} <div class="row">
														<p class="col-sm-3 text-muted text-sm-left mb-0 mb-sm-3">  Password</p>
														<p class="col-sm-9"> {{ user.password }}</p>
													</div>  {% endcomment %}
													<div class="row">
														<p class="col-sm-3 text-muted text-sm-left mb-0 mb-sm-3">Email ID</p>
														<p class="col-sm-9"> {{ user.email }}</p>
													</div>
													{% comment %} <div class="row">
														<p class="col-sm-3 text-muted text-sm-left mb-0 mb-sm-3">Mobile</p>
														<p class="col-sm-9">305-310-5857</p>
													</div>
													<div class="row">
														<p class="col-sm-3 text-muted text-sm-left mb-0">Address</p>
														<p class="col-sm-9 mb-0">4663  Agriculture Lane,<br>
														Miami,<br>
														Florida - 33165,<br>
														United States.</p>
													</div> {% endcomment %}
												</div>
											</div>
											
											<!-- Edit Details Modal -->
											<div class="modal fade" id="edit_personal_details" aria-hidden="true" role="dialog">
												<div class="modal-dialog modal-dialog-centered" role="document">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title">Personal Details</h5>
															<button type="button" class="close" data-dismiss="modal" aria-label="Close">
																<span aria-hidden="true">Ã—</span>
															</button>
														</div>
														<div class="modal-body">
														
															<form method="post" action="{% url 'update_personal_details' %}">
																{% csrf_token %}
																<div class="row form-row">
																	<div class="col-12 col-sm-6">
																		<div class="form-group">
																			<label>User Name</label>
																			{{ profile_form.username }}
																			{% comment %} <input type="text" class="form-control" value="John"> {% endcomment %}
																		</div>
																	</div>
																	<div class="form-group col-md-6" style="display: none;" >
																		<i class="fa fa-user icon-user"></i> 
																		<label for="exampleInputPassword1">Password</label>
																		<input type="text" class="form-control user-fill" name="password" id="user-add-form" value="{{ profile_form.password.value }}">
																	</div>
																	{% comment %} <div class="col-12">
																		<div class="form-group">
																			<label>Date of Birth</label>
																			<div class="input-group date" id="datetimepicker1" data-target-input="nearest">
																				<input type="text" class="form-control datetimepicker-input" data-target="#datetimepicker1">
																				<div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
																					<div class="input-group-text"><i class="fa fa-calendar"></i></div>
																				</div>
																			</div>
																		</div>
																	</div> {% endcomment %}
																	<div class="col-12 col-sm-6">
																		<div class="form-group">
																			<label>Email ID</label>
																			{{ profile_form.email }}
																			{% comment %} <input type="email" class="form-control" value="johndoe@example.com"> {% endcomment %}
																		</div>
																	</div>
																	
																	{% comment %} <div class="col-12">
																		<h5 class="form-title"><span>Address</span></h5>
																	</div> {% endcomment %}
																	{% comment %} <div class="col-12">
																		<div class="form-group">
																		<label>Address</label>
																			<input type="text" class="form-control" value="4663 Agriculture Lane">
																		</div>
																	</div>
																	<div class="col-12 col-sm-6">
																		<div class="form-group">
																			<label>Mobile</label>
																			<input type="text" value="+1 202-555-0125" class="form-control">
																		</div>
																	</div> {% endcomment %}
																	{% comment %} <div class="col-12 col-sm-6">
																		<div class="form-group">
																			<label>City</label>
																			<input type="text" class="form-control" value="Miami">
																		</div>
																	</div>
																	<div class="col-12 col-sm-6">
																		<div class="form-group">
																			<label>State</label>
																			<input type="text" class="form-control" value="Florida">
																		</div>
																	</div>
																	<div class="col-12 col-sm-6">
																		<div class="form-group">
																			<label>Zip Code</label>
																			<input type="text" class="form-control" value="22434">
																		</div>
																	</div>
																	<div class="col-12 col-sm-6">
																		<div class="form-group">
																			<label>Country</label>
																			<input type="text" class="form-control" value="United States">
																		</div>
																	</div> {% endcomment %}
																</div>
																<button type="submit" class="btn btn-primary btn-block">Save Changes</button>
															</form>
														</div>
													</div>
												</div>
											</div>
											<!-- /Edit Details Modal -->
											
										</div>
									</div>
									<!-- /Personal Details -->

								</div>
								<!-- /Personal Details Tab -->
								
								<!-- Change Password Tab -->
								<div id="password_tab" class="tab-pane fade active show">
								
									<div class="card">
										<div class="card-body">
											<h5 class="card-title">Change Password</h5>
											{% if messages %}
											<div class="messages">
												{% for message in messages %}
													<div class="alert alert-{{ message.tags }}">
														{{ message }}
													</div>
												{% endfor %}
											</div>
										{% endif %}
											<div class="row">
												<div class="col-md-12">
													<form method='post' action="{% url 'change_password' %}">
														{% csrf_token %}
														<div class="row ">
														<div class="form-group col-lg-6">
															<label>Old Password</label><br>
															{{form.old_password}}
															{% comment %} <input type="password" name='old_password' class="form-control"> {% endcomment %}
														</div>
														<div class="form-group col-lg-6">
															<label>New Password</label><br>
															{{form.new_password1}}
															{% comment %} <input type="password" name='new_password' class="form-control"> {% endcomment %}
														</div>
														<div class="form-group col-lg-12">
															<label>Confirm Password</label><br>
															{{form.new_password2}}
															{% comment %} <input type="password" name='confirm_password' class="form-control"> {% endcomment %}
														</div>
														<button class="btn btn-primary" type="submit">Save Changes</button>
													</div>
													</form>
												</div>
											</div>
										</div>
									</div>
								</div>
								<!-- /Change Password Tab -->
								
							</div>
							</div>
						</div>
					</div>
					</div>
				
				</div>			
			</div>
			<!-- /Page Wrapper -->
		
        </div>
		<!-- /Main Wrapper -->
	
{% endblock %}