{% load static %}

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avai Answer</title>
    <!-- Add your stylesheet links or other head content here -->
</head>
<body>
    <div id="answerContainer">
        
        {% if user_input %}
            <p>{{ user.username }}: {{ user_input }}</p>
        {% endif %}
        <div id="chatArea">
            <!-- Chat messages will appear here -->
        </div>
        <p id="answerText">Avai: {{answer}}<span id="typedAnswer"></span></p>

        <audio id="answerAudio" preload="auto">
            <source src="{% static 'answer.mp3' %}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
      
        
    </div>

    <script>
        function updateChat(user, message, targetChatArea) {
            const chatArea = document.getElementById(targetChatArea);
            const msgHTML = `<p>${user}: ${message}</p>`;
            chatArea.insertAdjacentHTML('beforeend', msgHTML);
        }

        function playAudio() {
            const audio = document.getElementById('answerAudio');
            // Check if the audio can be played before calling play()
            if (audio.canPlayType && audio.canPlayType('audio/mpeg')) {
                audio.play();
            } else {
                console.error('Audio format not supported.');
            }
        }
        
        function pauseAudio() {
            // Your logic to handle audio pause
        }

        // Example usage:
        // Call updateChat(user, message, targetChatArea) when you receive a new message
        // Call playAudio() when you want to play the audio
    </script>
</body>
</html>
